<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>构建应用 · SimpleChain开发文档</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# 构建第一个区块链应用"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="构建应用 · SimpleChain开发文档"/><meta property="og:type" content="website"/><meta property="og:url" content="https://simplechain.github.io/sipc-docs/"/><meta property="og:description" content="# 构建第一个区块链应用"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/sipc-docs/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/sipc-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/sipc-docs/css/main.css"/><script src="/sipc-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/sipc-docs/"><h2 class="headerTitle">SimpleChain开发文档</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/sipc-docs/docs/docs_1" target="_self">文档</a></li><li class="siteNavGroupActive"><a href="/sipc-docs/docs/docs_25" target="_self">API</a></li><li class="siteNavGroupActive"><a href="/sipc-docs/docs/docs_50" target="_self">FAQ</a></li><li class="siteNavGroupActive"><a href="/sipc-docs/docs/docs_51" target="_self">在线技术支持</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>落地方案</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">快速了解</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_1">概述</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_2">快速开始</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_3">搭建节点</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">sipc和sipc代币协议</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_52">技术术语</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_4">sipc代币</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_5">在SIPC上发行代币</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">基础数据结构</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_6">配置</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_7">创世块</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_8">账户</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_9">交易</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_10">区块</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_11">交易回执</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">架构</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_12">架构设计</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_13">MPT</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">底层核心技术</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_14">共识算法</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_15">P2P网络</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_16">交易存储</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">虚拟机</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_17">虚拟机</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_18">运行机制</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_19">异常处理</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">智能合约</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_20">智能合约</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_22">合约模版</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_23">合约开发和部署</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">开发者工具</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_24">搭建测试链</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_25">Sipc API</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_26">跨链API</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_27">js_sdk</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_28">java_sdk</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_29">python_sdk</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_30">子链模版</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Dapp开发</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_31">合约编译器</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_32">编写合约</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_33">发布合约</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_34">开发流程</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">挖矿</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_35">Sipc挖矿</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_36">矿池接入</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_37">GPU挖矿</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_38">SimPool</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_39">SimpleNode x1挖矿教程</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">客户端</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_40">SIPC.VIP</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_41">Sipc全节点钱包</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_42">ChainBox</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_43">区块链浏览器</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">生态</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_44">交易所对接</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_45">社区项目</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_46">社区活动</a></li><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_47">社区入口</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">落地方案</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_48">落地案例</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/sipc-docs/docs/docs_49">构建应用</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">FAQ</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_50">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">技术支持</h3><ul class=""><li class="navListItem"><a class="navItem" href="/sipc-docs/docs/docs_51">在线技术支持</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">构建应用</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="构建第一个区块链应用"></a><a href="#构建第一个区块链应用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>构建第一个区块链应用</h1>
<p>本章将会介绍一个基于Simplechain区块链的业务应用场景开发全过程，从业务场景分析，到合约的设计实现，然后介绍合约编译以及如何部署到区块链，最后介绍一个应用模块的实现，通过我们提供的Web3SDK实现对区块链上合约的调用访问。</p>
<p>本教程要求用户熟悉Linux操作环境，具备Java开发的基本技能，能够使用Gradle工具，熟悉<a href="https://solidity.readthedocs.io/en/latest/">Solidity语法</a>。</p>
<p><strong>通过学习教程，你将会了解到以下内容：</strong></p>
<ol>
<li>如何将一个业务场景的逻辑用合约的形式表达</li>
<li>如何将Solidity合约转化成Java类</li>
<li>如何配置Web3SDK</li>
<li>如何构建一个应用，并集成Web3SDK到应用工程</li>
<li>如何通过Web3SDK调用合约接口，了解Web3SDK调用合约接口的原理</li>
</ol>
<p>教程中会提供示例的完整项目源码，用户可以在此基础上快速开发自己的应用。</p>
<pre><code class="hljs css language-eval_rst"><span class="hljs-title">.. important::</span>
    请参考 `安装文档 &lt;../installation.html&gt;`_ 完成FISCO BCOS区块链的搭建和控制台的下载工作，本教程中的操作假设在该文档搭建的环境下进行。
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="示例应用需求"></a><a href="#示例应用需求" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>示例应用需求</h2>
<p>区块链天然具有防篡改，可追溯等特性，这些特性决定其更容易受金融领域的青睐，本文将会提供一个简易的资产管理的开发示例，并最终实现以下功能：</p>
<ul>
<li>能够在区块链上进行资产注册</li>
<li>能够实现不同账户的转账</li>
<li>可以查询账户的资产金额</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="合约设计与实现"></a><a href="#合约设计与实现" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>合约设计与实现</h2>
<p>在区块链上进行应用开发时，结合业务需求，首先需要设计对应的智能合约，确定合约需要储存的数据，在此基础上确定智能合约对外提供的接口，最后给出各个接口的具体实现。</p>
<h3><a class="anchor" aria-hidden="true" id="存储设计"></a><a href="#存储设计" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>存储设计</h3>
<p>FISCO BCOS提供<a href="../manual/smart_contract.html#crud">合约CRUD接口</a>开发模式，可以通过合约创建表，并对创建的表进行增删改查操作。针对本应用需要设计一个存储资产管理的表<code>t_asset</code>，该表字段如下：</p>
<ul>
<li>account: 主键，资产账户(string类型)</li>
<li>asset_value: 资产金额(uint256类型)</li>
</ul>
<p>其中account是主键，即操作<code>t_asset</code>表时需要传入的字段，区块链根据该主键字段查询表中匹配的记录。<code>t_asset</code>表示例如下：</p>
<table>
<thead>
<tr><th>account</th><th>asset_value</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>10000</td></tr>
<tr><td>Bob</td><td>20000</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="接口设计"></a><a href="#接口设计" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口设计</h3>
<p>按照业务的设计目标，需要实现资产注册，转账，查询功能，对应功能的接口如下：</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// 查询资产金额</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">select</span>(<span class="hljs-params">string account</span>) <span class="hljs-title">public</span> <span class="hljs-title">constant</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256, uint256</span>)
// 资产注册
<span class="hljs-title">function</span> <span class="hljs-title">register</span>(<span class="hljs-params">string account, uint256 amount</span>) <span class="hljs-title">public</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256</span>)
// 资产转移
<span class="hljs-title">function</span> <span class="hljs-title">transfer</span>(<span class="hljs-params">string from_asset_account, string to_asset_account, uint256 amount</span>) <span class="hljs-title">public</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256</span>)
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="完整源码"></a><a href="#完整源码" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>完整源码</h3>
<pre><code class="hljs css language-js">pragma solidity ^<span class="hljs-number">0.4</span><span class="hljs-number">.24</span>;

<span class="hljs-keyword">import</span> <span class="hljs-string">"./Table.sol"</span>;

contract Asset {
    <span class="hljs-comment">// event</span>
    event RegisterEvent(int256 ret, string account, uint256 asset_value);
    event TransferEvent(int256 ret, string from_account, string to_account, uint256 amount);

    <span class="hljs-keyword">constructor</span>() public {
        <span class="hljs-comment">// 构造函数中创建t_asset表</span>
        createTable();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createTable</span>(<span class="hljs-params"></span>) <span class="hljs-title">private</span> </span>{
        TableFactory tf = TableFactory(<span class="hljs-number">0x1001</span>);
        <span class="hljs-comment">// 资产管理表, key : account, field : asset_value</span>
        <span class="hljs-comment">// |  资产账户(主键)      |     资产金额       |</span>
        <span class="hljs-comment">// |-------------------- |-------------------|</span>
        <span class="hljs-comment">// |        account      |    asset_value    |</span>
        <span class="hljs-comment">// |---------------------|-------------------|</span>
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">// 创建表</span>
        tf.createTable(<span class="hljs-string">"t_asset"</span>, <span class="hljs-string">"account"</span>, <span class="hljs-string">"asset_value"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openTable</span>(<span class="hljs-params"></span>) <span class="hljs-title">private</span> <span class="hljs-title">returns</span>(<span class="hljs-params">Table</span>) </span>{
        TableFactory tf = TableFactory(<span class="hljs-number">0x1001</span>);
        Table table = tf.openTable(<span class="hljs-string">"t_asset"</span>);
        <span class="hljs-keyword">return</span> table;
    }

    <span class="hljs-comment">/*
    描述 : 根据资产账户查询资产金额
    参数 ：
            account : 资产账户

    返回值：
            参数一： 成功返回0, 账户不存在返回-1
            参数二： 第一个参数为0时有效，资产金额
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">select</span>(<span class="hljs-params">string account</span>) <span class="hljs-title">public</span> <span class="hljs-title">constant</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256, uint256</span>) </span>{
        <span class="hljs-comment">// 打开表</span>
        Table table = openTable();
        <span class="hljs-comment">// 查询</span>
        Entries entries = table.select(account, table.newCondition());
        uint256 asset_value = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == uint256(entries.size())) {
            <span class="hljs-keyword">return</span> (<span class="hljs-number">-1</span>, asset_value);
        } <span class="hljs-keyword">else</span> {
            Entry entry = entries.get(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> (<span class="hljs-number">0</span>, uint256(entry.getInt(<span class="hljs-string">"asset_value"</span>)));
        }
    }

    <span class="hljs-comment">/*
    描述 : 资产注册
    参数 ：
            account : 资产账户
            amount  : 资产金额
    返回值：
            0  资产注册成功
            -1 资产账户已存在
            -2 其他错误
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span class="hljs-params">string account, uint256 asset_value</span>) <span class="hljs-title">public</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256</span>)</span>{
        int256 ret_code = <span class="hljs-number">0</span>;
        int256 ret= <span class="hljs-number">0</span>;
        uint256 temp_asset_value = <span class="hljs-number">0</span>;
        <span class="hljs-comment">// 查询账户是否存在</span>
        (ret, temp_asset_value) = select(account);
        <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">0</span>) {
            Table table = openTable();

            Entry entry = table.newEntry();
            entry.set(<span class="hljs-string">"account"</span>, account);
            entry.set(<span class="hljs-string">"asset_value"</span>, int256(asset_value));
            <span class="hljs-comment">// 插入</span>
            int count = table.insert(account, entry);
            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">1</span>) {
                <span class="hljs-comment">// 成功</span>
                ret_code = <span class="hljs-number">0</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// 失败? 无权限或者其他错误</span>
                ret_code = <span class="hljs-number">-2</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// 账户已存在</span>
            ret_code = <span class="hljs-number">-1</span>;
        }

        emit RegisterEvent(ret_code, account, asset_value);

        <span class="hljs-keyword">return</span> ret_code;
    }

    <span class="hljs-comment">/*
    描述 : 资产转移
    参数 ：
            from_account : 转移资产账户
            to_account ： 接收资产账户
            amount ： 转移金额
    返回值：
            0  资产转移成功
            -1 转移资产账户不存在
            -2 接收资产账户不存在
            -3 金额不足
            -4 金额溢出
            -5 其他错误
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span>(<span class="hljs-params">string from_account, string to_account, uint256 amount</span>) <span class="hljs-title">public</span> <span class="hljs-title">returns</span>(<span class="hljs-params">int256</span>) </span>{
        <span class="hljs-comment">// 查询转移资产账户信息</span>
        int ret_code = <span class="hljs-number">0</span>;
        int256 ret = <span class="hljs-number">0</span>;
        uint256 from_asset_value = <span class="hljs-number">0</span>;
        uint256 to_asset_value = <span class="hljs-number">0</span>;

        <span class="hljs-comment">// 转移账户是否存在?</span>
        (ret, from_asset_value) = select(from_account);
        <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">0</span>) {
            ret_code = <span class="hljs-number">-1</span>;
            <span class="hljs-comment">// 转移账户不存在</span>
            emit TransferEvent(ret_code, from_account, to_account, amount);
            <span class="hljs-keyword">return</span> ret_code;

        }

        <span class="hljs-comment">// 接受账户是否存在?</span>
        (ret, to_asset_value) = select(to_account);
        <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">0</span>) {
            ret_code = <span class="hljs-number">-2</span>;
            <span class="hljs-comment">// 接收资产的账户不存在</span>
            emit TransferEvent(ret_code, from_account, to_account, amount);
            <span class="hljs-keyword">return</span> ret_code;
        }

        <span class="hljs-keyword">if</span>(from_asset_value &lt; amount) {
            ret_code = <span class="hljs-number">-3</span>;
            <span class="hljs-comment">// 转移资产的账户金额不足</span>
            emit TransferEvent(ret_code, from_account, to_account, amount);
            <span class="hljs-keyword">return</span> ret_code;
        }

        <span class="hljs-keyword">if</span> (to_asset_value + amount &lt; to_asset_value) {
            ret_code = <span class="hljs-number">-4</span>;
            <span class="hljs-comment">// 接收账户金额溢出</span>
            emit TransferEvent(ret_code, from_account, to_account, amount);
            <span class="hljs-keyword">return</span> ret_code;
        }

        Table table = openTable();

        Entry entry0 = table.newEntry();
        entry0.set(<span class="hljs-string">"account"</span>, from_account);
        entry0.set(<span class="hljs-string">"asset_value"</span>, int256(from_asset_value - amount));
        <span class="hljs-comment">// 更新转账账户</span>
        int count = table.update(from_account, entry0, table.newCondition());
        <span class="hljs-keyword">if</span>(count != <span class="hljs-number">1</span>) {
            ret_code = <span class="hljs-number">-5</span>;
            <span class="hljs-comment">// 失败? 无权限或者其他错误?</span>
            emit TransferEvent(ret_code, from_account, to_account, amount);
            <span class="hljs-keyword">return</span> ret_code;
        }

        Entry entry1 = table.newEntry();
        entry1.set(<span class="hljs-string">"account"</span>, to_account);
        entry1.set(<span class="hljs-string">"asset_value"</span>, int256(to_asset_value + amount));
        <span class="hljs-comment">// 更新接收账户</span>
        table.update(to_account, entry1, table.newCondition());

        emit TransferEvent(ret_code, from_account, to_account, amount);

        <span class="hljs-keyword">return</span> ret_code;
    }
}
</code></pre>
<p><strong>注：</strong> <code>Asset.sol</code>合约的实现需要引入FISCO BCOS提供的一个系统合约接口文件 <code>Table.sol</code> ，该系统合约文件中的接口由FISCO BCOS底层实现。当业务合约需要操作CRUD接口时，均需要引入该接口合约文件。<code>Table.sol</code> 合约详细接口<a href="../manual/smart_contract.html#crud">参考这里</a>。</p>
<h2><a class="anchor" aria-hidden="true" id="合约编译"></a><a href="#合约编译" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>合约编译</h2>
<p>上一小节，我们根据业务需求设计了合约<code>Asset.sol</code>的存储与接口，给出了完整实现，但是Java程序无法直接调用Solidity合约，需要先将Solidity合约文件编译为Java文件。</p>
<p>控制台提供了编译工具，可以将<code>Asset.sol</code>合约文件存放在<code>console/contracts/solidity</code>目录。利用console目录下提供的<code>sol2java.sh</code>脚本进行编译，操作如下：</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># 切换到fisco/console/目录</span>
$ <span class="hljs-built_in">cd</span> ~/fisco/console/
<span class="hljs-comment"># 编译合约，后面指定一个Java的包名参数，可以根据实际项目路径指定包名</span>
$ ./sol2java.sh org.fisco.bcos.asset.contract
</code></pre>
<p>运行成功之后，将会在<code>console/contracts/sdk</code>目录生成java、abi和bin目录，如下所示。</p>
<pre><code class="hljs css language-bash">|-- abi <span class="hljs-comment"># 生成的abi目录，存放solidity合约编译生成的abi文件</span>
|   |-- Asset.abi
|   |-- Table.abi
|-- bin <span class="hljs-comment"># 生成的bin目录，存放solidity合约编译生成的bin文件</span>
|   |-- Asset.bin
|   |-- Table.bin
|-- contracts <span class="hljs-comment"># 存放solidity合约源码文件，将需要编译的合约拷贝到该目录下</span>
|   |-- Asset.sol <span class="hljs-comment"># 拷贝进来的Asset.sol合约，依赖Table.sol</span>
|   |-- Table.sol <span class="hljs-comment"># 实现系统CRUD操作的合约接口文件</span>
|-- java  <span class="hljs-comment"># 存放编译的包路径及Java合约文件</span>
|   |-- org
|        |--fisco
|             |--bcos
|                  |--asset
|                       |--contract
|                             |--Asset.java  <span class="hljs-comment"># Asset.sol合约生成的Java文件</span>
|                             |--Table.java  <span class="hljs-comment"># Table.sol合约生成的Java文件</span>
|-- sol2java.sh
</code></pre>
<p>java目录下生成了<code>org/fisco/bcos/asset/contract/</code>包路径目录，该目录下包含<code>Asset.java</code>和<code>Table.java</code>两个文件，其中<code>Asset.java</code>是Java应用调用<code>Asset.sol</code>合约需要的文件。</p>
<p><code>Asset.java</code>的主要接口：</p>
<pre><code class="hljs css language-java"><span class="hljs-keyword">package</span> org.fisco.bcos.asset.contract;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Asset</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Contract</span> </span>{
    <span class="hljs-comment">// Asset.sol合约 transfer接口生成</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> RemoteCall&lt;TransactionReceipt&gt; <span class="hljs-title">transfer</span><span class="hljs-params">(String from_account, String to_account, BigInteger amount)</span></span>;
    <span class="hljs-comment">// Asset.sol合约 register接口生成</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> RemoteCall&lt;TransactionReceipt&gt; <span class="hljs-title">register</span><span class="hljs-params">(String account, BigInteger asset_value)</span></span>;
    <span class="hljs-comment">// Asset.sol合约 select接口生成</span>
    <span class="hljs-keyword">public</span> RemoteCall&lt;Tuple2&lt;BigInteger, BigInteger&gt;&gt; select(String account);

    <span class="hljs-comment">// 加载Asset合约地址，生成Asset对象</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Asset <span class="hljs-title">load</span><span class="hljs-params">(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider)</span></span>;

    <span class="hljs-comment">// 部署Assert.sol合约，生成Asset对象</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> RemoteCall&lt;Asset&gt; <span class="hljs-title">deploy</span><span class="hljs-params">(Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider)</span></span>;
}
</code></pre>
<p>其中load与deploy函数用于构造Asset对象，其他接口分别用来调用对应的solidity合约的接口，详细使用在下文会有介绍。</p>
<h2><a class="anchor" aria-hidden="true" id="sdk配置"></a><a href="#sdk配置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SDK配置</h2>
<p>我们提供了一个Java工程项目供开发使用，首先获取Java工程项目：</p>
<pre><code class="hljs css language-bash">    <span class="hljs-comment"># 获取Java工程项目压缩包</span>
    $ <span class="hljs-built_in">cd</span> ~
    $ curl -LO https://github.com/FISCO-BCOS/LargeFiles/raw/master/tools/asset-app.tar.gz
    <span class="hljs-comment"># 解压得到Java工程项目asset-app目录</span>
    $ tar -zxf asset-app.tar.gz
</code></pre>
<pre><code class="hljs css language-eval_rst">.. note::
    - 如果因为网络问题导致长时间无法下载，请尝试 `curl -LO https:<span class="hljs-regexp">//gi</span>tee.com<span class="hljs-regexp">/FISCO-BCOS/</span>LargeFiles<span class="hljs-regexp">/raw/m</span>aster<span class="hljs-regexp">/tools/</span>asset-app.tar.gz`
</code></pre>
<p>asset-app项目的目录结构如下：</p>
<pre><code class="hljs css language-bash">|-- build.gradle // gradle配置文件
|-- gradle
|   |-- wrapper
|       |-- gradle-wrapper.jar // 用于下载Gradle的相关代码实现
|       |-- gradle-wrapper.properties // wrapper所使用的配置信息，比如gradle的版本等信息
|-- gradlew // Linux或者Unix下用于执行wrapper命令的Shell脚本
|-- gradlew.bat // Windows下用于执行wrapper命令的批处理脚本
|-- src
|   |-- main
|   |   |-- java
|   |         |-- org
|   |             |-- fisco
|   |                   |-- bcos
|   |                         |-- asset
|   |                               |-- client // 放置客户端调用类
|   |                                      |-- AssetClient.java
|   |                               |-- contract // 放置Java合约类
|   |                                      |-- Asset.java
|   |-- <span class="hljs-built_in">test</span>
|       |-- resources // 存放代码资源文件
|           |-- applicationContext.xml // 项目配置文件
|           |-- contract.properties // 存储部署合约地址的文件
|           |-- log4j.properties // 日志配置文件
|           |-- contract //存放solidity约文件
|                   |-- Asset.sol
|                   |-- Table.sol
|
|-- tool
    |-- asset_run.sh // 项目运行脚本
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="项目引入web3sdk"></a><a href="#项目引入web3sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>项目引入Web3SDK</h3>
<p><strong>项目的<code>build.gradle</code>文件已引入Web3SDK，不需修改</strong>。其引入方法介绍如下：</p>
<ul>
<li>Web3SDK引入了以太坊的solidity编译器相关jar包，因此在<code>build.gradle</code>文件需要添加以太坊的远程仓库：</li>
</ul>
<pre><code class="hljs css language-java">repositories {
    maven {
        url <span class="hljs-string">"http：//maven.aliyun.com/nexus/content/groups/public/"</span>
    }
    maven { url <span class="hljs-string">"https：//dl.bintray.com/ethereum/maven/"</span> }
    mavenCentral()
}
</code></pre>
<ul>
<li>引入Web3SDK jar包</li>
</ul>
<pre><code class="hljs css language-java">compile (<span class="hljs-string">'org.fisco-bcos：web3sdk：2.1.0'</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="证书与配置文件"></a><a href="#证书与配置文件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>证书与配置文件</h3>
<ul>
<li>区块链节点证书配置</li>
</ul>
<p>拷贝区块链节点对应的SDK证书</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># 进入~目录</span>
<span class="hljs-comment"># 拷贝节点证书到项目的资源目录</span>
$ <span class="hljs-built_in">cd</span> ~
$ cp fisco/nodes/127.0.0.1/sdk/* asset-app/src/<span class="hljs-built_in">test</span>/resources/
</code></pre>
<ul>
<li>applicationContext.xml</li>
</ul>
<p><strong>注意：</strong> 如果搭链时设置的jsonrpc_listen_ip为127.0.0.1或者0.0.0.0，channel_port为20200， 则<code>applicationContext.xml</code>配置不用修改。若区块链节点配置有改动，需要同样修改配置<code>applicationContext.xml</code>，具体请参考<a href="../sdk/java_sdk.html#spring">SDK使用文档</a>。</p>
<h2><a class="anchor" aria-hidden="true" id="业务开发"></a><a href="#业务开发" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>业务开发</h2>
<p>我们已经介绍了如何在自己的项目中引入以及配置Web3SDK，本节介绍如何通过Java程序调用合约，同样以示例的资产管理说明。asset-app项目已经包含示例的完整源码，用户可以直接使用，现在介绍核心类<code>AssetClient</code>的设计与实现。</p>
<p><code>AssetClient.java</code>: 通过调用<code>Asset.java</code>实现对合约的部署与调用，路径<code>/src/main/java/org/fisco/bcos/asset/client</code>，初始化以及调用流程都在该类中进行。</p>
<ul>
<li>初始化</li>
</ul>
<p>初始化代码的主要功能为构造Web3j与Credentials对象，这两个对象在创建对应的合约类对象(调用合约类的deploy或者load函数)时需要使用。</p>
<pre><code class="hljs css language-java"><span class="hljs-comment">// 函数initialize中进行初始化</span>
ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"classpath:applicationContext.xml"</span>);
Service service = context.getBean(Service<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
service.run();

ChannelEthereumService channelEthereumService = <span class="hljs-keyword">new</span> ChannelEthereumService();
channelEthereumService.setChannelService(service);
<span class="hljs-comment">// 初始化Web3j对象</span>
Web3j web3j = Web3j.build(channelEthereumService, <span class="hljs-number">1</span>);
<span class="hljs-comment">// 初始化Credentials对象</span>
Credentials credentials = Credentials.create(Keys.createEcKeyPair());
</code></pre>
<ul>
<li>构造合约类对象</li>
</ul>
<p>可以使用deploy或者load函数初始化合约对象，两者使用场景不同，前者适用于初次部署合约，后者在合约已经部署并且已知合约地址时使用。</p>
<pre><code class="hljs css language-java"><span class="hljs-comment">// 部署合约</span>
Asset asset = Asset.deploy(web3j, credentials, <span class="hljs-keyword">new</span> StaticGasProvider(gasPrice, gasLimit)).send();
<span class="hljs-comment">// 加载合约地址</span>
Asset asset = Asset.load(contractAddress, web3j, credentials, <span class="hljs-keyword">new</span> StaticGasProvider(gasPrice, gasLimit));
</code></pre>
<ul>
<li>接口调用</li>
</ul>
<p>使用合约对象调用对应的接口，处理返回结果。</p>
<pre><code class="hljs css language-java"><span class="hljs-comment">// select接口调用</span>
Tuple2&lt;BigInteger, BigInteger&gt; result = asset.select(assetAccount).send();
<span class="hljs-comment">// register接口调用</span>
TransactionReceipt receipt = asset.register(assetAccount, amount).send();
<span class="hljs-comment">// transfer接口</span>
TransactionReceipt receipt = asset.transfer(fromAssetAccount, toAssetAccount, amount).send();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="运行"></a><a href="#运行" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>运行</h2>
<p>至此我们已经介绍使用区块链开发资产管理应用的所有流程并实现了功能，接下来可以运行项目，测试功能是否正常。</p>
<ul>
<li>编译</li>
</ul>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># 切换到项目目录</span>
$ <span class="hljs-built_in">cd</span> ~/asset-app
<span class="hljs-comment"># 编译项目</span>
$ ./gradlew build
</code></pre>
<p>编译成功之后，将在项目根目录下生成<code>dist</code>目录。dist目录下有一个<code>asset_run.sh</code>脚本，简化项目运行。现在开始一一验证本文开始定下的需求。</p>
<ul>
<li>部署<code>Asset.sol</code>合约</li>
</ul>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># 进入dist目录</span>
$ <span class="hljs-built_in">cd</span> dist
$ bash asset_run.sh deploy
Deploy Asset successfully, contract address is 0xd09ad04220e40bb8666e885730c8c460091a4775
</code></pre>
<ul>
<li>注册资产</li>
</ul>
<pre><code class="hljs css language-bash">$ bash asset_run.sh register Alice 100000
Register account successfully =&gt; account: Alice, value: 100000
$ bash asset_run.sh register Bob 100000
Register account successfully =&gt; account: Bob, value: 100000
</code></pre>
<ul>
<li>查询资产</li>
</ul>
<pre><code class="hljs css language-bash">$ bash asset_run.sh query Alice
account Alice, value 100000
$ bash asset_run.sh query Bob
account Bob, value 100000
</code></pre>
<ul>
<li>资产转移</li>
</ul>
<pre><code class="hljs css language-bash">$ bash asset_run.sh transfer Alice Bob  50000
Transfer successfully =&gt; from_account: Alice, to_account: Bob, amount: 50000
$ bash asset_run.sh query Alice
account Alice, value 50000
$ bash asset_run.sh query Bob
account Bob, value 150000
</code></pre>
<p><strong>总结：</strong> 至此，我们通过合约开发，合约编译，SDK配置与业务开发构建了一个基于FISCO BCOS联盟区块链的应用。</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/sipc-docs/docs/docs_48"><span class="arrow-prev">← </span><span>落地案例</span></a><a class="docs-next button" href="/sipc-docs/docs/docs_50"><span>FAQ</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#示例应用需求">示例应用需求</a></li><li><a href="#合约设计与实现">合约设计与实现</a><ul class="toc-headings"><li><a href="#存储设计">存储设计</a></li><li><a href="#接口设计">接口设计</a></li><li><a href="#完整源码">完整源码</a></li></ul></li><li><a href="#合约编译">合约编译</a></li><li><a href="#sdk配置">SDK配置</a><ul class="toc-headings"><li><a href="#项目引入web3sdk">项目引入Web3SDK</a></li><li><a href="#证书与配置文件">证书与配置文件</a></li></ul></li><li><a href="#业务开发">业务开发</a></li><li><a href="#运行">运行</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/sipc-docs/" class="nav-home"></a><div><h5>文档</h5><a href="/sipc-docs/docs/en/doc1.html">快速开始</a><a href="/sipc-docs/docs/en/doc2.html">引导</a><a href="/sipc-docs/docs/en/doc3.html">API接口</a></div><div><h5>社区</h5><a href="/sipc-docs/en/https://t.me/SimpleChainOfficial">Telegram</a><a href="https://medium.com/@SimpleChain" target="_blank" rel="noreferrer noopener">Medium</a><a href="https://twitter.com/SimpleChain">Twitter</a><a href="https://www.linkedin.com/company/simplechain-foundation/" target="_blank" rel="noreferrer noopener">Linkedln</a></div><div><h5>更多</h5><a href="https://www.simplechain.com">官网</a><a href="https://github.com/simplechain-org">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2020 SimpleChain Community</section></footer></div></body></html>